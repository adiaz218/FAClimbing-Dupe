<!DOCTYPE html>
<html>
    <head>
        <title>First Ascent Climbing - Login</title>
        <link rel="stylesheet" href="./css_styles/style.css">

        <!-- Google Fonts - Open Sans (similar to their site font) -->
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <!-- Authentication Section -->
        <div id="auth-section">
            <div class="login-container">
                <div class="logo-container">
                    <img src="FA-foundation.png" alt="First Ascent Climbing Logo">
                </div>
                <h2>Welcome to First Ascent!</h2>
                <p>Sign in with your phone number to access your account.</p>

                <div id="recaptcha-container"></div>
                <input type="tel" id="phoneNumber" placeholder="Enter phone number (e.g., +11234567890)">
                <button id="sendCode">Send Verification Code</button>

                <input type="text" id="verificationCode" placeholder="Enter verification code">
                <button id="verifyCode">Verify Code</button>

                <p id="authStatus"></p>
            </div>
        </div>

        <!-- Application Section -->
        <div id="app-section">
            <h1>Welcome to First Ascent!</h1>
            <div id="user-info">
                <h3>Your Profile</h3>
                <p><strong>Display Name:</strong> <span id="userDisplayName"></span></p>
                <p><strong>Phone:</strong> <span id="userPhoneNumber"></span></p>
                <p><strong>Loyalty Points:</strong> <span id="userLoyaltyPoints"></span></p>
                <p><strong>Membership Status:</strong> <span id="userMembershipStatus"></span> (<span id="userMembershipType"></span>)</p>
                <p><strong>Home Gym:</strong> <span id="userHomeGym"></span></p>

                <h4>Choose Your Home Gym:</h4>
                <select id="homeGymSelect">
                    <option value="">-- Select a Gym --</option>
                </select>
                <button id="saveHomeGymButton">Save Home Gym</button>
                <p id="homeGymStatus"></p>
            </div>

            <button id="logoutButton">Log Out</button>
            <button id="updatePointsButton">Add 10 Loyalty Points</button>
        </div>

        <!-- Firebase Initialization Script -->
        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
            import { getAuth } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";
            import { getFirestore } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";
            import { getStorage } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-storage.js";

            const firebaseConfig = {
                apiKey: "AIzaSyB-ldg94e902HITajU_898U5XVmxw0lOFY",
                authDomain: "faapp-ddcff.firebaseapp.com",
                projectId: "faapp-ddcff",
                storageBucket: "faapp-ddcff.firebasestorage.app",
                messagingSenderId: "854580718964",
                appId: "1:854580718964:web:7177891b9489abdd311021",
                measurementId: "G-JC2Q2LEH8R"
            };

            const app = initializeApp(firebaseConfig);
            console.log("Firebase app initialized successfully:", app);

            window.auth = getAuth(app);
            window.firestore = getFirestore(app);
            window.storage = getStorage(app);
        </script>

        <!-- Application logic modules -->
        <script type="module" src="./auth.js"></script>
        <script type="module" src="./firestore-users.js"></script>
    </body>
</html>
